<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://wixtoolset.org/schemas/v4/wxs">
  <Package Name="CloudBridge Client"
           Language="1033"
           Version="1.0.0.0"
           Manufacturer="2GC"
           UpgradeCode="PUT-GUID-HERE">
    <MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />
    <MediaTemplate EmbedCab="yes" />

    <Feature Id="ProductFeature" Title="CloudBridge Client" Level="1">
      <ComponentGroupRef Id="ProductComponents" />
    </Feature>

    <StandardDirectory Id="ProgramFilesFolder">
      <Directory Id="INSTALLFOLDER" Name="CloudBridge Client">
        <Directory Id="BINFOLDER" Name="bin" />
        <Directory Id="CONFIGFOLDER" Name="config" />
        <Directory Id="LOGSFOLDER" Name="logs" />
      </Directory>
    </StandardDirectory>

    <ComponentGroup Id="ProductComponents" Directory="INSTALLFOLDER">
      <Component Id="ApplicationFiles" Directory="BINFOLDER">
        <File Id="ApplicationExecutable" Source="bin\cloudbridge-client.exe" KeyPath="yes" />
      </Component>
      <Component Id="ConfigFiles" Directory="CONFIGFOLDER">
        <File Id="ConfigFile" Source="config\config.yaml" KeyPath="yes" />
      </Component>
      <Component Id="LogsFolder" Directory="LOGSFOLDER">
        <CreateFolder />
      </Component>
    </ComponentGroup>

    <UI>
      <UIRef Id="WixUI_InstallDir" />
      <Property Id="WIXUI_INSTALLDIR" Value="INSTALLFOLDER" />
    </UI>
  </Package>
</Wix> 